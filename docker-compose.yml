version: '3'

services:
  php:
    image: php:8.2-fpm
    volumes:
      - './src:/var/www/html'
      - './php.ini:/usr/local/etc/php/php.ini'

  composer:
    image: composer:2.5.8
    volumes:
      - './src:/app'
    working_dir: '/app'

  apache:
    image: httpd:2.4
    ports:
      - "8000:80"
    volumes:
      - './src:/var/www/html'
      - './httpd/httpd.conf:/usr/local/apache2/conf/httpd.conf'
    depends_on:
      - php
